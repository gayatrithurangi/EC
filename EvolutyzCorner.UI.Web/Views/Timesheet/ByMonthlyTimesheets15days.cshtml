@model evolCorner.Models.UserProjectdetailsEntity
@{

    ViewBag.Title = "ByMonthlyTimesheets";
}

<script src="~/EvolutyzCornerScripts/ByMonthlyTimesheets15days.js"></script>



<style>
    fieldset.note-status {
        float: left;
        text-align: left;
        padding: 5px 15px 10px;
        margin: 0 2px;
        border: 1px solid silver;
    }

    a.kin {
        display: inline-block;
    }

    input[type=file]#flImage {
        display: inline-block;
    }

    img#previewFlImage {
        display: inline-block;
        max-height: 100px;
        max-width: 100px;
    }

    a.kin1 {
        display: inline-block;
    }

    input[type=file]#flImage1 {
        display: inline-block;
    }

    img#previewFlImage1 {
        display: inline-block;
        max-height: 100px;
        max-width: 100px;
    }

    fieldset.note-status > legend {
        width: auto;
        margin-bottom: auto;
        font-size: 16px;
        font-weight: 600;
        border: 0;
        padding: 0 10px;
    }

    fieldset.note-status > label {
        margin: 0 5px;
    }

        fieldset.note-status > label:before {
            content: "*";
            width: 18px;
            height: 18px;
            line-height: 22px;
            display: inline-block;
            color: #fff;
            text-align: center;
            border-radius: 50%;
            margin-right: 5px;
        }

        /*fieldset.note-status > label.black:before {
                background-color: black;
            }*/

        fieldset.note-status > label.green:before {
            background-color: green;
        }

        fieldset.note-status > label.red:before {
            background-color: red;
        }

        fieldset.note-status > label.blue:before {
            background-color: blue;
        }

    .box.box-solid.box-brown {
        border: 1px solid #aaaaaa;
    }

    .flex {
        display: flex;
        display: -webkit-flex;
        display: -ms-flexbox;
    }

    .box.box-solid.box-brown > .box-header {
        /*background-color: #a3765b;
        color: #fff;*/
        border-color: #aaaaaa;
        background: #cccccc url(../Content/themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png) 50% 50% repeat-x;
        color: #222222;
    }

    /*.box.box-solid.box-brown .btn-warning
        {
            background-color: #f97045;
            border-color: #fe450b;
        }

        .box.box-solid.box-brown .btn-success
        {
            background-color: #fea728;
            border-color: #FF9800;
        }*/
    .block-content .btn-warning {
        background-color: #f97045;
        border-color: #fe450b;
    }

    .block-content .btn-success {
        background-color: #fea728;
        border-color: #FF9800;
    }

    #divhiduserid ~ label {
        margin: 7px auto;
    }
</style>


<style>
    /*b[class^="ts_ManagerNames"],*/
    table#ClientDetails td > b ~ b {
        display: block;
    }

    table[id^="SubTable"] td.colored {
        color: #555;
        background-color: #fff;
        border: 1px solid #ccc;
    }

    .box.box-solid.box-brown {
        border: 1px solid #aaaaaa;
    }

        .box.box-solid.box-brown > .box-header {
            /*background-color: #a3765b;
        color: #fff;*/
            border-color: #aaaaaa;
            background: #cccccc url(../Content/themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png) 50% 50% repeat-x;
            color: #222222;
        }

    /*.box.box-solid.box-brown .btn-warning
        {
            background-color: #f97045;
            border-color: #fe450b;
        }

        .box.box-solid.box-brown .btn-success
        {
            background-color: #fea728;
            border-color: #FF9800;
        }*/
    .block-content .btn-warning {
        background-color: #f97045;
        border-color: #fe450b;
    }

    .block-content .btn-success {
        background-color: #fea728;
        border-color: #FF9800;
    }

    #divhiduserid ~ label {
        margin: 7px auto;
    }
</style>
<style>
    .evInputBtn {
        display: inline-block;
        padding: 5px 10px;
        margin: 3px 5px;
        background: #848484;
        color: #FFF !important;
        font-size: 14px;
        font-weight: bold;
        text-decoration: none;
        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        border: none;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        box-shadow: inset 0px -10px 15px rgba(0, 0, 0, 0.2), 1px 1px 5px rgba(0,0,0,0.2);
        -webkit-box-shadow: inset 0px -10px 15px rgba(0, 0, 0, 0.2), 1px 1px 5px rgba(0,0,0,0.2);
        -moz-box-shadow: inset 0px -10px 15px rgba(0, 0, 0, 0.2), 1px 1px 5px rgba(0,0,0,0.2);
        cursor: pointer;
    }

    #btnSave.evInputBtn,
    #btnSaveUpdate.evInputBtn {
        background: #ff9800;
    }

    #btnSend.evInputBtn,
    #btnSubmitUpdate.evInputBtn {
        background: #4CAF50;
    }
    /*.evInputBtn:hover {
            background: #FF6600;
        }*/


    .contentArea {
        background: #FFF url(../images/shadow.png) repeat-x;
        box-shadow: 0px 5px 8px rgba(183, 35, 35, 0.81);
        padding: 30px;
        min-height: 350px;
    }

    #MainTable {
        border: 0px !important;
    }

    #SubTable {
        border: 0px !important;
    }

    #SubTable2 {
        border: 0px !important;
    }

    table#ClientDetails {
        margin: 10px auto;
        width: 100%;
        border: 1px solid rgba(0, 0, 0, 0.25);
        border-collapse: separate;
        border-radius: 30px;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);
        -webkit-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);
        -moz-box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);
    }

        table#ClientDetails td {
            border: none;
            width: auto;
        }

        table#ClientDetails tr > td:nth-child(even) {
            border-right: 1px solid rgba(0, 0, 0, 0.19);
        }

        table#ClientDetails tr > td:last-child {
            border-right: none;
        }

    tbody > tr:only-child:nth-child(odd) {
        background: none;
    }

    .evAdminTable th {
        border-bottom: 0px solid #EAEAEA;
        padding: 5px;
        background: #666;
        color: #FFF;
    }

    table td, table th {
        padding: 3px 6px;
    }

    table tr:nth-of-type(odd) {
        background: #f9f9f9;
    }

    #MainTable > td[id^="td"] {
        border: 0;
        width: 50%;
        vertical-align: top;
    }

    table td > .form-control {
        border-radius: 0px;
        height: auto;
        padding: 2px;
    }

    table td > select.form-control {
        width: 100%;
    }

    table #MainTable > td[id^="td"]:first-child {
        padding-left: 0;
    }

    table#MainTable > td[id^="td"]:last-child {
        padding-right: 0;
    }

    table [id^="SubTable"] tr > td:last-child {
        display: none;
    }

    table[id^="SubTable"] {
        background-color: #fff;
    }

        table[id^="SubTable"] tr > td:first-child {
            word-spacing: 5px;
            text-align: right;
            padding-right: 15px;
        }

    .evAdminTable th {
        border-bottom: 0px solid #EAEAEA;
        padding: 5px;
        background: #666;
        color: #FFF;
    }

    @@page {
        size: A4 landscape;
    }
    /*@@media print {
        .nonPrintable {
            width: 100% !important;
            height: 100% !important;
        }

        .skin-blue .main-header .navbar {
            background-color: #3b464e !important;
        }

        .main-footer {
            background: #142837 !important;
            color: #FFF !important;
        }
      }*/

</style>
<style>
    @@media print {
        .sidebar-mini .content-wrapper {
            margin: 15px 15px 15px 45px !important;
        }
    }

    @@media screen {
        .sidebar-mini .content-wrapper {
            margin: 15px 15px 15px 45px !important;
        }
    }

    .evInputBtn.btn-warning,
    .evInputBtn.btn-warning:focus,
    .evInputBtn.btn-warning:active {
        background-color: #03a9f4;
        border-color: #00bcd4;
    }

    table > tbody > tr.brown {
        background: #ffdfdd;
    }

        table > tbody > tr.brown > td {
            border-color: #ff996a;
        }

    .evInputBtn.btn-danger,
    .evInputBtn.btn-danger:focus,
    .evInputBtn.btn-danger:active {
        background-color: #dd4b39;
        border-color: #d73925;
    }

    #loading-image {
        position: fixed;
        left: 0px;
        top: 0px;
        width: 100%;
        height: 100%;
        z-index: 1035;
        background-color: rgba(243, 243, 243, 0.75);
        /*opacity: .8;*/
    }

        #loading-image > img {
            /*width: 56px;
            height: 56px;
            border: 8px solid rgba(255, 87, 34, 0.25);
            border-top-color: #f37a41;
            border-radius: 50%;*/
            position: absolute;
            /* animation: loader-rotate 1s linear infinite; */
            top: 50%;
            left: 50%;
            margin: -60px auto 0;
            max-width: 100%;
            display: block;
            height: 100px;
        }

        #loading-image > span {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: absolute;
            animation: loader-circles 1s linear infinite;
            top: 50%;
            left: 50%;
            margin: -20px auto 0;
        }

        #loading-image > strong {
            position: absolute;
            top: 50%;
            left: 48%;
            margin: 0px auto 0;
            font-size: 10px;
        }

    @@keyframes loader-circles {
        0% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.05), 61px -61px 0 0 rgba(255, 87, 34, 0.1), 85px 0 0 0 rgba(255, 87, 34, 0.2), 61px 61px 0 0 rgba(255, 87, 34, 0.3), 0 85px 0 0 rgba(255, 87, 34, 0.4), -61px 61px 0 0 rgba(255, 87, 34, 0.6), -85px 0 0 0 rgba(255, 87, 34, 0.8), -61px -61px 0 0 #f37a41;
        }

        12.5% {
            box-shadow: 0 -85px 0 0 #f37a41, 61px -61px 0 0 rgba(255, 87, 34, 0.05), 85px 0 0 0 rgba(255, 87, 34, 0.1), 61px 61px 0 0 rgba(255, 87, 34, 0.2), 0 85px 0 0 rgba(255, 87, 34, 0.3), -61px 61px 0 0 rgba(255, 87, 34, 0.4), -85px 0 0 0 rgba(255, 87, 34, 0.6), -61px -61px 0 0 rgba(255, 87, 34, 0.8);
        }

        25% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.8), 61px -61px 0 0 #f37a41, 85px 0 0 0 rgba(255, 87, 34, 0.05), 61px 61px 0 0 rgba(255, 87, 34, 0.1), 0 85px 0 0 rgba(255, 87, 34, 0.2), -61px 61px 0 0 rgba(255, 87, 34, 0.3), -85px 0 0 0 rgba(255, 87, 34, 0.4), -61px -61px 0 0 rgba(255, 87, 34, 0.6);
        }

        37.5% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.6), 61px -61px 0 0 rgba(255, 87, 34, 0.8), 85px 0 0 0 #f37a41, 61px 61px 0 0 rgba(255, 87, 34, 0.05), 0 85px 0 0 rgba(255, 87, 34, 0.1), -61px 61px 0 0 rgba(255, 87, 34, 0.2), -85px 0 0 0 rgba(255, 87, 34, 0.3), -61px -61px 0 0 rgba(255, 87, 34, 0.4);
        }

        50% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.4), 61px -61px 0 0 rgba(255, 87, 34, 0.6), 85px 0 0 0 rgba(255, 87, 34, 0.8), 61px 61px 0 0 #f37a41, 0 85px 0 0 rgba(255, 87, 34, 0.05), -61px 61px 0 0 rgba(255, 87, 34, 0.1), -85px 0 0 0 rgba(255, 87, 34, 0.2), -61px -61px 0 0 rgba(255, 87, 34, 0.3);
        }

        62.5% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.3), 61px -61px 0 0 rgba(255, 87, 34, 0.4), 85px 0 0 0 rgba(255, 87, 34, 0.6), 61px 61px 0 0 rgba(255, 87, 34, 0.8), 0 85px 0 0 #f37a41, -61px 61px 0 0 rgba(255, 87, 34, 0.05), -85px 0 0 0 rgba(255, 87, 34, 0.1), -61px -61px 0 0 rgba(255, 87, 34, 0.2);
        }

        75% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.2), 61px -61px 0 0 rgba(255, 87, 34, 0.3), 85px 0 0 0 rgba(255, 87, 34, 0.4), 61px 61px 0 0 rgba(255, 87, 34, 0.6), 0 85px 0 0 rgba(255, 87, 34, 0.8), -61px 61px 0 0 #f37a41, -85px 0 0 0 rgba(255, 87, 34, 0.05), -61px -61px 0 0 rgba(255, 87, 34, 0.1);
        }

        87.5% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.1), 61px -61px 0 0 rgba(255, 87, 34, 0.2), 85px 0 0 0 rgba(255, 87, 34, 0.3), 61px 61px 0 0 rgba(255, 87, 34, 0.4), 0 85px 0 0 rgba(255, 87, 34, 0.6), -61px 61px 0 0 rgba(255, 87, 34, 0.8), -85px 0 0 0 #f37a41, -61px -61px 0 0 rgba(255, 87, 34, 0.05);
        }

        100% {
            box-shadow: 0 -85px 0 0 rgba(255, 87, 34, 0.05), 61px -61px 0 0 rgba(255, 87, 34, 0.1), 85px 0 0 0 rgba(255, 87, 34, 0.2), 61px 61px 0 0 rgba(255, 87, 34, 0.3), 0 85px 0 0 rgba(255, 87, 34, 0.4), -61px 61px 0 0 rgba(255, 87, 34, 0.6), -85px 0 0 0 rgba(255, 87, 34, 0.8), -61px -61px 0 0 #f37a41;
        }
    }

    /* #f37a41 - rgb(255, 87, 34) , #f8c26c - rgb(248, 194, 108) */



</style>

<style type="text/css" media="print">

    .nonPrintable {
        width: 100% !important;
        height: 100% !important;
    }

    .skin-blue .main-header .navbar {
        background-color: #3b464e !important;
        -webkit-print-color-adjust: exact;
    }

    .main-footer {
        background: #142837 !important;
        -webkit-print-color-adjust: exact;
    }

        .main-footer *,
        .skin-blue .main-header .navbar .nav > li > a *,
        .skin-blue .main-header .navbar .sidebar-toggle:before,
        .block-content .btn-warning {
            color: #FFF !important;
        }

    .block-content .btn-warning {
        background-color: #f97045 !important;
        -webkit-print-color-adjust: exact;
    }

    #btnSave.evInputBtn, #btnSaveUpdate.evInputBtn {
        background: #ff9800 !important;
        -webkit-print-color-adjust: exact;
    }

    #btnSend.evInputBtn, #btnSubmitUpdate.evInputBtn {
        background: #4CAF50 !important;
        -webkit-print-color-adjust: exact;
    }

    .evInputBtn {
        background: #848484 !important;
        -webkit-print-color-adjust: exact;
    }

    header.main-header,
    .navbar {
        display: block !important;
    }

    a[href]:after {
        content: "" !important;
    }
</style>


<input type="hidden" id="CL_PriId" value="@TempData["CL_PriId"]" />
@{
    TempData.Keep("CL_PriId");
}

<div id="loading-image" style="display:none">
    @*<img src="~/Content/images/demo_wait.gif"/>*@
    <span></span>
    <strong>Loading Please Wait....</strong>
</div>

<div class="block-content" id="PdfPrint">

    <div class="">
        <h4 class="heading-fancy">Submit Timesheet </h4>
    </div>
    <div id="dvTimesheetid"><span id="dvTimesheetids" style="display:none"> </span></div>
    <div class="clearfix">
        <div id="StardateToEnddate" style="color:coral;font-size:large;float:left;width: 90%;text-align:center;font-weight:600"></div>
    </div>
    <table cellspacing="0" cellpadding="0" border="0" id="ClientDetails" style="display:none;margin: 10px auto;width:98%;border:1px solid #aaaaaa;">
        <tbody>
            <tr>
                <td align="right" width="100" class="alt">
                    <b>Client Name:</b>
                    <b id="ts_approid">Approved on:</b>
                </td>
                <td>
                    <div id="ts_ClientNameid">  </div>
                    <div id="ts_Approveid"></div>
                </td>
                <td align="right" width="110" class="alt">
                    <b>Project Name:</b>
                    <b id="ts_submited">Submitted on:</b>
                </td>
                <td>
                    <div id="ts_ProjectNameid"></div>
                    <div id="ts_Submittedid"></div>
                </td>
                <td width="100" align="right" class="alt">
                    <b>Manager 1:</b>
                    <b id="ts_Manager2">Manager 2:</b>
                </td>
                <td>
                    <div id="ts_ManagerNamesid1"></div>
                    <div id="ts_ManagerNamesid2"></div>
                </td>
                <td><b>Duration :</b><b>Timesheet Mode:</b></td>
                <td><div id="Timesheet_Duration"></div><div id="Timesheet_dvTSMode">Bi-Monthly</div></td>
            </tr>
        </tbody>
    </table>






    <div class="box-body no-padding" id="body">

        <div class="row">

            <div class="col-md-4">
                <div id="xyz">
                    <label for="ProjectID" class="col-md-4 control-label no-padding" style="margin:6px 0;">Projects : </label>


                    @Html.DropDownList("AssignedProjects", new SelectList(ViewBag.AssignedProjs, "clientprojId", "CL_ProjectTitle"), "Select Project", new { @class = "form-control col-md-8" })

                </div>
            </div>
            @*<div class="col-md-8" id="BiWeeklyBind" style="display:none">
                    <div class="col-md-4">
                        <div id="divbyweeklydates">
                            <label for="inputPassword3" class="col-md-4 control-label no-padding" style="margin:6px 0;">Bi-Weekly Dates : </label>
                            <select class="Task form-control col-md-8" name="Weekly" id="byWeeklyDates" onload="ValidateUserforTimesheetMode()"></select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="CheckTimesheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllTimesheets()">Preview Timesheets</a>
                    </div>
                </div>*@

            <div class="col-md-8" id="BiWeeklyBind" style="display:none">
                <div class="row">
                    <div class="col-md-6">
                        <div id="divbyweeklydates">
                            <label for="inputPassword3" class="col-md-4 control-label no-padding" style="margin:6px 0;">Bi-Weekly Dates : </label>
                            <select class="Task form-control col-md-8" name="Weekly" id="byWeeklyDates" onload="ValidateUserforTimesheetMode()"></select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="CheckTimesheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllTimesheets()">Preview Timesheets</a>
                    </div>
                </div>

            </div>

            <div class="col-md-8" id="yearmonthBind" style="display:none">
                <div class="row">
                    <div class="col-md-8">
                        <div id="divMonthYear">
                            <div id="divhiduserid" style="display:none"><input type="hidden" id="hidUserid">/>@Model.User_ID</div>


                            <label for="inputPassword3" class="col-md-2 control-label">Year : </label>

                            <select class="form-control col-md-4" name="year" id="year">
                                @*
                                    <option value="">Select Year</option>*@
                            </select>


                            <label for="inputPassword3" class="col-md-2 control-label">Month : </label>

                            <select class="form-control col-md-4" name="month" id="month">
                                @*
                                    <option value="">Select Month</option>*@
                            </select>


                        </div>
                    </div>
                    <div class="col-md-4 text-left">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="CheckMonthlyTimesheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllTimesheets()">View Timesheets</a>
                    </div>
                </div>
            </div>


            @*<div class="col-md-8" id="BiMonthly" style="display:none">
                    <div class="col-md-4">
                        <div id="divbyweeklydates">
                            <label for="inputPassword3" class="col-md-4 control-label no-padding" style="margin:6px 0;">Bi-Monthly Dates : </label>
                            <select class="Task form-control col-md-8" name="Weekly" id="BiMonthlyDates" onload="BiMonthlyTimeSheet()"></select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="BiMonthlysheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllTimesheets()">Preview Timesheets</a>
                    </div>
                </div>*@

            <div class="col-md-8" id="BiMonthly" style="display:none">
                <div class="row">
                    <div class="col-md-6">
                        <div id="divbyweeklydates">
                            <label for="inputPassword3" class="col-md-4 control-label no-padding" style="margin:6px 0;">Bi-Monthly Dates : </label>
                            <select class="Task form-control col-md-8" name="Weekly" id="BiMonthlyDates" onload="BiMonthlyTimeSheet()"></select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="BiMonthlysheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllTimesheets()">Preview Timesheets</a>
                    </div>
                </div>


            </div>

            <div class="col-md-8" id="WeeklyBind" style="display:none">
                <div class="col-md-4">
                    <div id="divbyweeklydates">
                        <label for="inputPassword3" class="col-md-4 control-label no-padding" style=" margin: 6px 0; ">Weekly Dates : </label>
                        <select class="Task form-control col-md-8" name="Weekly" id="WeeklyDates" onload="BindWeeklyTimesheetMode()"></select>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-success margin-r-5" id="submit" value="1" onclick="Weeklysheetexits()">Load</button>
                        <a class="btn btn-warning" id="btnPreview" value="1" onclick="LoadAllWeeklyTimesheets()">Preview Timesheets</a>
                    </div>
                </div>
            </div>

        </div>
        <div id="divhidFday" style="display:none">
            <p> <label id="fday"></label></p>
        </div>
        <div class="clearfix text-right">

            <button type='submit' id='btnPrint' name='bntPrint' title="Click here to print" class='evInputBtn btn-warning' onClick='print_page()' style="display:none;"><i class="fa fa-print"></i></button>
            <button type='submit' name='btnpdf' id='btnpdf' title="Click here to pdf" class='evInputBtn btn-danger' style="display:none;"><i class="fa fa-file-pdf-o"></i></button>
            <button class="btn btn-warning" id="btnChangeDate" value="2" name="ChangeDate" style="display:none;">Change Date</button>
        </div>
        <div id="tabCon"></div>
        <div id="TotHrs" style="float:right;position:relative;right:19px;font-size:large;display:none"><label>Total Working Hours:</label>&nbsp;&nbsp;<label name="totCount" id="TotalHoursCount"></label></div>

    </div>


    <div id="footer">

        <div id='Cmtsave' style="display:none">
            <label style='color:coral'>Additional Comments</label>
            <div>
                <textarea name='tnameDescription' rows='2' cols='20' id='txtDescription' style='width:100%;'></textarea>

            </div>
            @*<input type="file" id="flImage" name="ImageUpload" multiple>
                <a class='kin' href='javascript:;' id="images"></a>*@
            @*<input type="file" id="flImage" name="ImageUpload">*@
            <label class="" id="imagelbl" style="display:none">
                <i class="fa fa-image"></i> Upload Image1<input type="file" style="display: none;" id="flImage" name="ImageUpload">
            </label>

            <a class='kin' href='javascript:;' id="images">
                <img id="previewFlImage" data-toggle='modal' data-target='#imgModal' />
            </a>

            @*<input type="file" id="flImage1" name="ImageUpload1">*@
            <label class="" id="imagelbl1" style="display:none">
                <i class="fa fa-image"></i> Upload Image2<input type="file" style="display: none;" id="flImage1" name="ImageUpload1">
            </label>

            <a class='kin' href='javascript:;' id="images1">
                <img id="previewFlImage1" data-toggle='modal' data-target='#imgModal1' />
            </a>
            <div class='clearfix' style='padding: 10px;text-align:right;'>
                <fieldset class="note-status">
                    <legend>Note :</legend>
                    <label class="green">Work from Home</label>
                    <label class="red">Leaves</label>
                    <label class="blue">Holidays</label>
                </fieldset>
                <input type='submit' name='btnSave' value='Save &amp; Close' onclick=AddByMonthlyTimesheets('1') id='btnSave' class='evInputBtn' />
                &nbsp;&nbsp;
                <input type='submit' name='btnSend' value='Save &amp; Submit Timesheet' onclick=AddByMonthlyTimesheets('2') id='btnSend' class='evInputBtn' />
                &nbsp;&nbsp;
                <input type='submit' name='SaveUpdate' value='Save &amp;Update' id='btnSaveUpdate' onclick=updateByMonthlyTimesheet('1') style="display:none" class='evInputBtn' />
                &nbsp;&nbsp;
                <input type='submit' name='SubmitUpdate' value='Submit&amp;Update' id='btnSubmitUpdate' onclick=updateByMonthlyTimesheet('2') style="display:none" class='evInputBtn' />
                &nbsp;&nbsp;
                <input type='submit' id='btnclose' name='bntClose' value='Close' title="Close" class='evInputBtn' onClick='window.location.reload()' />
            </div>

        </div>
    </div>

</div>

<aside class="control-sidebar control-sidebar-dark">
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
        <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
        <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
</aside>

<div class="control-sidebar-bg"></div>
<div id="imgModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <img id="showimage" class="showimage img-responsive" style="margin:auto;height:25em" src="" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div id="imgModal1" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <img id="showimage1" class="showimage img-responsive" style="margin:auto;height:25em" src="" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    var Userid; var Projectname; var ClientName; var accountid, Projectid, Taskid; var clientid;
    Userid = '@ViewBag.User_ID';
    Projectname ='@ViewBag.ProjectName';
    ClientName ='@ViewBag.ClientProjectName';
    accountid = '@ViewBag.accountid'; Projectid = '@ViewBag.Projectid';
    Taskid= '@ViewBag.tsktaskID';
   // alert(Userid);
    clientid = $("#CL_PriId").val();

    function LoadAllTimesheets() {
        window.location = '/Timesheet/PreviewBymonthlytimesheets15days';

    }
    $("input[type='file']").change(function () {
        var $fileUpload = $("input[type='file']");
        if (parseInt($fileUpload.get(0).files.length) > 2) {
            alert("You are only allowed to upload a maximum of 2 files");
        }
    });


</script>
<script>
    $(document).ready(function (e) {


        var years = [presentyear - 5, presentyear - 4, presentyear - 3, presentyear - 2, presentyear - 1, presentyear];
        var option = '';

        for (i = 0; i < years.length; i++) {

            var option = document.createElement("OPTION");
            option.text = years[i];
            option.value = years[i];

            // // if year is 2019 selected
            if (years[i] == presentyear) {
                option.selected = true;
            }
            $('#year').append(option);
        }

        LoadMonthAccToYear();

        $('#year').on('change', function () {
            LoadMonthAccToYear();

        });

    });

    function LoadMonthAccToYear() {

        var option = ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec"];
        var currMon = (new Date).getMonth();
        var currYear = (new Date).getFullYear();
        var id = $('#year').val();
        $('#month').html('');

        if (currYear == id && currMon) {

            for (i = 0; i <= currMon; i++) {
                $('#month').append($("<option />").val(option[i]).text(option[i]));
                //option.text =i;
                //option.value = i;

                if (i == currMon) {
                    $('#month').val(option[i]);
                }

            }


        }
        else {
            for (i = 0; i <= 11; i++) {
                $('#month').append($("<option />").val(option[i]).text(option[i]));
                if (i == currMon) {
                    $('#month').val(option[i]);
                }
            }

        }

    }
</script>
<script>
    var gettimesheeid;

    
    var model = @Html.Raw(Json.Encode(ViewBag.AssignedProjs));
    console.log(model);
    $("#AssignedProjects").on("change", function () {

        
        var clientProjId = $("#AssignedProjects option:selected").val();
        if (clientProjId != "") {
            //
            model.forEach(function (i, key) {
                
                if ($("#AssignedProjects option:selected").val() == i.clientprojId) {

                    
                    myprojId = i.Proj_ProjectID;
                    gettimesheeid = i.TimesheetMode_id;
                    //clientid = i.clientprojId;
                    if (gettimesheeid == "2") {
                        $("#BiWeeklyBind").show();
                        $("#yearmonthBind").hide();
                    }
                    else if (gettimesheeid == "1") {
                        $("#yearmonthBind").show();
                        $("#BiWeeklyBind").hide();
                        $("#BiMonthly").hide();
                        $("#WeeklyBind").hide();
                    }
                    else if (gettimesheeid == "3") {
                        
                        $("#BiMonthly").hide();
                        $("#BiWeeklyBind").hide();
                        $("#yearmonthBind").hide();
                        $("#WeeklyBind").show();
                        BindWeeklyTimesheetMode();
                    }
                    else if (gettimesheeid == "4") {

                        $("#BiMonthly").show();
                        $("#BiWeeklyBind").hide();
                        $("#yearmonthBind").hide();
                        $("#WeeklyBind").hide();
                        BiMonthlyTimeSheet();
                    }

                    //LoadAllHoursWorkingByMonth(prjid)
                }
            });
        }
        else {
            $("#yearmonthBind").hide();
        }
    });
    function BiMonthlyTimeSheet() {

       // window.location.href = '/Timesheet/PreviewBymonthlytimesheets15days';
        $.ajax({
            type: "POST",

            url: "/Timesheet/LoadByMonthlyDates",
            datatype: "Json",
            success: function (data) {
                $(".Task").empty();
                $(data).each(function () {
                    
                    $(".Task").append($("<option></option>").val(this.Id).html(this.dateName));

                });
            }
        });
    }
    function BindWeeklyTimesheetMode() {


        $.ajax({
            type: "POST",

            url: "/Timesheet/LoadWeeklyDates",
            datatype: "Json",
            success: function (data) {
                $(".Task").empty();
                $(data).each(function () {
                    
                    $(".Task").append($("<option></option>").val(this.Id).html(this.dateName));

                });
            }
        });

    }


     function BiMonthlysheetexits() {

        var e = document.getElementById("BiMonthlyDates");
        BiMonthlyDates = e.options[e.selectedIndex].text;
        var projid = $("#AssignedProjects option:selected").val();


        var Bymonthlyid = e.options[e.selectedIndex].text;
        var selbimonthlydates = new Array();

        selbimonthlydates = BiMonthlyDates.split("-");

        window.location.href = "/TimesheetMode/BiMonthlyUserTimeSheet?userid=" + '@TempData["USERID"]' + "&timesheetstartdate=" + selbimonthlydates[0] + "&timesheetenddate=" + selbimonthlydates[1] + "&Bymonthlyid=" + Bymonthlyid + "&projid=" + projid;
     }


    function CheckMonthlyTimesheetexits() {
        var projid = $("#AssignedProjects option:selected").val();
        var year = $('#year').val();
        var month=$('#month').val();
        window.location.href = "/TimesheetMode/MonthlyUserDataTimeSheet?userid=" + '@TempData["USERID"]' +
            "&timesheetyear=" + year +
            "&timesheetmonth=" + month +
            //"&Bymonthlyid=" + year +
            "&projid=" + projid;
    }

      function Weeklysheetexits() {
        var e = document.getElementById("WeeklyDates");
        WeeklyDates = e.options[e.selectedIndex].text;
        var projid = $("#AssignedProjects option:selected").val();
        var weeklyid = e.options[e.selectedIndex].text;

        var weeklydates = new Array();
        weeklydates = WeeklyDates.split("-");
        window.location.href = "/TimesheetMode/WeeklyUserTimeSheetData?userid=" + '@TempData["USERID"]' + "&timesheetstartdate=" + weeklydates[0] + "&timesheetenddate=" + weeklydates[1] + "&Bymonthlyid=" + weeklyid + "&projid=" + projid;


    }
</script>
